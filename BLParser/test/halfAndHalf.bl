PROGRAM halfAndHalf IS
    BEGIN
    IF random THEN
        WHILE true DO
            IF next-is-enemy THEN
                infect  
            ELSE
                IF random THEN
                    IF random THEN
                        turnleft
                    ELSE
                        turnright
                    END IF
                END IF
                
                move
            END IF
        END WHILE
    ELSE
        WHILE true DO
            IF next-is-enemy THEN
                infect  
            ELSE
                IF next-is-friend THEN
                    infect
                ELSE
                    IF random THEN
                        IF random THEN
                            turnleft
                        ELSE
                            turnright
                        END IF
                    END IF
                    move
                END IF
            END IF
        END WHILE
    END IF
END halfAndHalf